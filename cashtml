<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–†—É–ª–µ—Ç–∫–∞ 0‚Äì36</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #111;
      color: #fff;
      font-family: 'Arial', sans-serif;
      text-align: center;
    }

    h1 {
      margin-top: 20px;
      font-size: 26px;
      color: gold;
    }

    #wheel {
      width: 300px;
      height: 300px;
      border-radius: 50%;
      border: 10px solid #555;
      margin: 30px auto;
      position: relative;
      overflow: hidden;
      box-shadow: 0 0 20px #000;
    }

    .segment {
      position: absolute;
      width: 50%;
      height: 50%;
      top: 50%;
      left: 50%;
      transform-origin: 0% 0%;
      text-align: right;
      font-size: 12px;
      font-weight: bold;
    }

    .arrow {
      width: 0;
      height: 0;
      margin: 0 auto;
      border-left: 20px solid transparent;
      border-right: 20px solid transparent;
      border-bottom: 30px solid gold;
    }

    select {
      padding: 10px;
      margin-top: 20px;
      background-color: #222;
      color: #fff;
      border-radius: 5px;
      border: 1px solid #444;
      font-size: 16px;
    }

    .button {
      margin-top: 30px;
      padding: 12px 24px;
      font-size: 18px;
      background: linear-gradient(to right, crimson, darkred);
      border: none;
      color: white;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 0 10px crimson;
      transition: 0.3s;
    }

    .button:hover {
      background: linear-gradient(to right, #ff4444, #aa0000);
      box-shadow: 0 0 15px red;
    }

    #result {
      margin-top: 25px;
      font-size: 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <h1>üé∞ –†—É–ª–µ—Ç–∫–∞ 0‚Äì36</h1>

  <div class="arrow"></div>

  <div id="wheel"></div>

  <select id="bet">
    <option value="red">üî¥ –ö—Ä–∞—Å–Ω–æ–µ</option>
    <option value="black">‚ö´ –ß—ë—Ä–Ω–æ–µ</option>
    <option value="green">üü¢ –ó–µ—Ä–æ (0)</option>
  </select>

  <br>
  <button class="button" onclick="spin()">–ö—Ä—É—Ç–∏—Ç—å —Ä—É–ª–µ—Ç–∫—É</button>

  <div id="result"></div>

  <script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    const wheel = document.getElementById("wheel");
    const resultDiv = document.getElementById("result");

    const red = [1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];
    const black = [2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35];

    const numbers = [];

    for (let i = 0; i <= 36; i++) {
      numbers.push(i);
    }

    function getColor(num) {
      if (num === 0) return "green";
      if (red.includes(num)) return "red";
      return "black";
    }

    function createWheel() {
      wheel.innerHTML = '';
      for (let i = 0; i < 37; i++) {
        const segment = document.createElement('div');
        segment.className = 'segment';
        const angle = (360 / 37) * i;
        segment.style.transform = `rotate(${angle}deg) translate(-100%, -100%)`;
        segment.innerText = i;
        const color = getColor(i);
        segment.style.color = color === 'red' ? 'crimson' : color === 'black' ? 'white' : 'lime';
        wheel.appendChild(segment);
      }
    }

    createWheel();

    function spin() {
      const bet = document.getElementById("bet").value;
      const selected = Math.floor(Math.random() * 37);
      const anglePerNumber = 360 / 37;
      const totalSpin = 3600 + (360 - selected * anglePerNumber);

      wheel.style.transition = "transform 4s ease-out";
      wheel.style.transform = `rotate(${totalSpin}deg)`;

      setTimeout(() => {
        const color = getColor(selected);
        const win =
          (bet === "green" && selected === 0) ||
          (bet === "red" && color === "red") ||
          (bet === "black" && color === "black");

        const emoji = color === 'red' ? 'üî¥' : color === 'black' ? '‚ö´' : 'üü¢';
        resultDiv.innerHTML = `–í—ã–ø–∞–ª–æ: ${emoji} <b>${selected}</b><br>${win ? 'üéâ –ü–æ–±–µ–¥–∞!' : 'üò¢ –ü—Ä–æ–∏–≥—Ä—ã—à'}`;

        tg.sendData(JSON.stringify({ bet, selected, win }));
      }, 4200);
    }
  </script>
</body>
</html>
